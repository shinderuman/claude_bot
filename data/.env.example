# ========================================
# Claude Bot 設定ファイル
# ========================================
# 重要: すべての設定値を明示的に指定してください
# コード内にデフォルト値を持たせない設計思想を採用しています
# これにより、どの設定値が実際に使用されているかが常に明確になります
# ========================================

# Mastodon設定
MASTODON_SERVER=https://mastodon.example.com
MASTODON_ACCESS_TOKEN=your_access_token_here
BOT_USERNAME=your_bot_username

# Claude API設定
ANTHROPIC_AUTH_TOKEN=your_anthropic_api_key
ANTHROPIC_BASE_URL=https://api.z.ai/api/anthropic
ANTHROPIC_DEFAULT_MODEL=glm-4.6

# キャラクター設定（空文字列も可）
CHARACTER_PROMPT=あなたは親切で丁寧なアシスタントです。ユーザーの質問に分かりやすく答えてください。

# リモートユーザー設定
# true: 他インスタンスからのメンションも受け付ける
# false: 同一インスタンスからのメンションのみ受け付ける
ALLOW_REMOTE_USERS=false

# 事実データベース設定
# true: ユーザー情報を記憶する（事実抽出・保存機能を有効化）
# false: 記憶機能を無効化（レスポンス速度向上、コスト削減）
ENABLE_FACT_STORE=true

# 画像認識設定
# true: 画像認識機能を有効化（Claude API使用時のみ推奨）
# false: 画像認識機能を無効化
ENABLE_IMAGE_RECOGNITION=false

# 会話管理設定
# メッセージがこの数を超えたら圧縮
CONVERSATION_MESSAGE_COMPRESS_THRESHOLD=20
# 圧縮後に保持する最新メッセージ数
CONVERSATION_MESSAGE_KEEP_COUNT=10
# この時間（時間）アイドル状態なら要約
CONVERSATION_IDLE_HOURS=3
# 会話を完全に削除するまでの時間（時間）
CONVERSATION_RETENTION_HOURS=24
# 最低限保持するメッセージ数
CONVERSATION_MIN_KEEP_COUNT=3

# LLM・投稿パラメータ
# 応答生成の最大トークン数
MAX_RESPONSE_TOKENS=512
# 要約生成の最大トークン数
MAX_SUMMARY_TOKENS=512
# ファクト抽出の最大トークン数（URL事実抽出では多くのトークンが必要）
MAX_FACT_TOKENS=1024
# 1投稿あたりの最大文字数（分割投稿の閾値）
MAX_POST_CHARS=480

# 自動投稿の間隔（時間単位、0で無効）
AUTO_POST_INTERVAL_HOURS=0

# ファクト収集設定
# true: タイムラインから自動収集 / false: メンションからのみ収集
FACT_COLLECTION_ENABLED=false
# 連合タイムラインから収集するか（FACT_COLLECTION_ENABLED=true時のみ有効）
FACT_COLLECTION_FEDERATED=true
# ホームタイムラインから収集するか（FACT_COLLECTION_ENABLED=true時のみ有効）
FACT_COLLECTION_HOME=true
# 投稿本文からもファクトを抽出するか（false推奨: Fediverse投稿内容を除外）
FACT_COLLECTION_FROM_POST_CONTENT=false
# メタデータ取得をスキップするURLパターン（カンマ区切り、ワイルドカード * 使用可能）
URL_BLACKLIST=localhost,*.local,*.localhost
# 並列処理数（同時に処理する投稿数）
FACT_COLLECTION_MAX_WORKERS=3
# 1時間あたりの最大処理数（レート制限）
FACT_COLLECTION_MAX_PER_HOUR=100
